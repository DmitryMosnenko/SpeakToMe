<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main parent-height-100">
    <h1 class="page-header">Chat with {{ currentUser.name ? currentUser.name : currentUser.jid }}</h1>

    <div class="row parent-height-100">
        <div class="col-lg-12 parent-height-100">
            <div class="panel panel-info parent-height-100">
                <div class="panel-heading">RECENT CHAT HISTORY</div>

                <div class="panel-body chat-panel-body">
                    <ul class="media-list">
                        <li class="media clearfix" ng-repeat="item in currentUser.history | orderBy:'time':false">
                            <div class="media">
                                <a class="col-sm-1 pull-left" href="#" ng-if="item.direction === 'from'">
                                    <img class="media-object img-circle" src="http://themeandphoto.com/taplivedemos/2014/09/15/bootstrap-chat-example/assets/img/user.gif">
                                </a>
                                <div class="media-body col-sm-11">
                                    {{item.message}}
                                    <br>
                                    <small class="text-muted">
                                        {{item.direction === 'from' ? currentUser.jid : 'me'}} | {{item.time}}
                                    </small>
                                    <hr>
                                </div>
                                <a class="col-sm-1 pull-right" href="#" ng-if="item.direction === 'to'">
                                    <img class="media-object img-circle" src="http://themeandphoto.com/taplivedemos/2014/09/15/bootstrap-chat-example/assets/img/user.gif">
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
                <form class="panel-footer" name="chat" ng-submit="sendMessage()">
                    <div class="input-group">
                        <input type="text" class="form-control" ng-model="currentMessage" placeholder="Write your message...">
                        <span class="input-group-btn">
                            <input type="submit" class="btn btn-info" value="Go!">
                        </span>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>